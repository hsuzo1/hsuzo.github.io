<!doctype html><html lang=zh dir=ltr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Github Automate Generate Html &#183; PR's Blog</title><meta name=description content><link rel=apple-touch-icon sizes=180x180 href=https://hsuzo1.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://hsuzo1.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://hsuzo1.github.io/favicon-16x16.png><link rel=manifest href=https://hsuzo1.github.io/site.webmanifest><link rel=mask-icon href=https://hsuzo1.github.io/safari-pinned-tab.svg color=#5bbad5><link href=https://hsuzo1.github.io/css/katex.css rel=stylesheet><link href=https://hsuzo1.github.io/css/concated.min.css rel=stylesheet></head><body class=single-body><nav class="nav-bar side-padding"><h1 class=nav-header><a href=https://hsuzo1.github.io class=nav-text>兼聽則明</a></h1><div class=hamburger-menu><button onclick=hamburgerMenuPressed.call(this) aria-haspopup=true aria-expanded=false aria-controls=menu aria-label=Menu>
<span></span><span></span></button><ul id=menu class=hamburger-menu-overlay><li><a href=https://hsuzo1.github.io class=hamburger-menu-overlay-link>Home</a></li><li><a href=https://hsuzo1.github.io/categories/hugo/ class=hamburger-menu-overlay-link>Hugo</a></li></ul></div></nav><main class="content side-text-padding"><article class="post dropcase"><header class=post-header><h1 class=post-title>Github Automate Generate Html</h1><p class=post-date>Posted <time datetime=2020-10-26>Oct 26, 2020</time></p></header><ul><li>生產密鑰對：
<code>ssh-keygen -t rsa -b 4096 -C "usr@gmail.com"</code></li></ul><p>然后将 Private Key 添加到 JaredTan95.github.io.source 仓库：这里 Secrets 变量名要一定是： ACTIONSDEPLOYKEY, 后面会用到。</p><p>创建博客Repo github用戶名.github.io，設置為<strong>public</strong>
在github的aaa.github.io repo中，setting，DeployKey添加，sshkey.pub的内容，权限勾选allow write</p><p>测试连接
<code>ssh -T git@github.com</code></p><p>到一个目录中，克隆仓库</p><pre><code>g:\hugo
git clone git@github.com:hsuzo1/aaa.github.io.source.git
</code></pre><h4 id=进入仓库>进入仓库</h4><pre><code class=language-cd data-lang=cd>hugo new site myblog
git submodule add https://github.com/josephhutch/aether.git themes/aether
</code></pre><p>如果你觉得满意没问题之后，即可推送到 Github</p><pre><code>git add .
git commit -m &quot;first commit&quot;
git push -u origin master
</code></pre><p>最后一步，配置 Github 源码仓库 自动构建发布 Actions 即可：</p><pre><code>name: Deploy Hugo Site to Github Pages on Master Branch

on:
  push:
    branches:
      - master

jobs:
  build-deploy:
    runs-on: ubuntu-18.04
    steps:
      - uses: actions/checkout@v1  # v2 does not have submodules option now
       # with:
       #   submodules: true

      - name: Setup Hugo
        uses: peaceiris/actions-hugo@v2
        with:
          hugo-version: 'latest'
          # extended: true

      - name: Build
        run: hugo --minify

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }} # 这里的 ACTIONS_DEPLOY_KEY 则是上面设置 Private Key的变量名
          external_repository: hsuzo1/hsuzo1.github.io # Pages 远程仓库 
          publish_dir: ./public  # 指定發佈public文件夾
          keep_files: false # remove existing files
          publish_branch: master  # deploying branch
          commit_message: ${{ github.event.head_commit.message }}
</code></pre><p>修改好之后，点击右上角 <strong>commit</strong> 提交即可。我们可以手动触发打包动作也可以在本地重新<strong>commit</strong>一次，检查流水线是否会被触发。</p></article></main><nav class="end-nav side-padding"><a ontouchstart=cardPressed.call(this) ontouchend=cardReleased.call(this) ontouchmove=cardReleased.call(this) href=https://hsuzo1.github.io/post/noteforgit/ class="card blog-card" rel=bookmark><article class=card-body><h2 class=card-title>Noteforgit</h2><p class=card-text>Hugo Package wget https://github.com/gohugoio/hugo/releases/download/v0.76.5/hugo_0.76.5_Linux-64bit.tar.gz tar -xzvf hugo_0.76.5_Linux-64bit.tar.gz sudo mv hugo /usr/local/bin/hugo hugo version 创建仓库hug0 本地新建目录 g:\hugo\hugo\
新建一个测速网页文件index.html
&lt;html> &lt;head> &lt;title>我的第一个 HTML 页面&lt;/title> &lt;/head> &lt;body> &lt;p>body 元素的内容会显示在浏览器中。&lt;/p> &lt;p>title 元素的内容会显示在浏览器的标题栏中。&lt;/p> &lt;/body> &lt;/html> git init echo ^&lt;h1^> Test Caddy Working^&lt;/h1^> git add . git commit -m "first Test" git remote add origin https://github.com/hsuzo1/hug0 git push -u origin master push后在仓库的master下可见了 创建vps上的网页目录
mkdir /var/www mkdir /var/www/hugo cd /var/www echo "deb [trusted=yes] https://apt.fury.io/caddy/ /" | sudo tee -a /etc/apt/sources.</p><div class="card-subtext muted-text"><p>Posted <time datetime="2020-10-25 1025:00">Oct 25, 2020</time></p></div></article></a><a ontouchstart=cardPressed.call(this) ontouchend=cardReleased.call(this) ontouchmove=cardReleased.call(this) href=https://hsuzo1.github.io class="card home-card" style=background-image:url(https://hsuzo1.github.io/img/grey-cloud.jpg) rel=bookmark>Home</a></nav><script defer src=https://hsuzo1.github.io/js/katex.js></script><script defer src=https://hsuzo1.github.io/js/auto-render.js onload=renderMathInElement(document.body);></script><script src=https://hsuzo1.github.io/js/core.min.js></script></body></html>